<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>MURDER MYSTERY</title>

<!-- zimjs.com - JavaScript Canvas Framework -->
<script type=module>

import zim from "https://zimjs.org/cdn/015/zim_game";

const assets = [
    "1.png",
    "2.png",
    "3.png",
    "4.png",
    "5.png",
    "6.png",
    "7.png",
    "8.png",
    "9.png",
    "d1.png",
    "d2.png",
    "d3.png",
    "d4.png",
    "d5.png", 
    "h1.png", 
    "h2.png", 
    "p1.png", 
    "p2.png", 
    "p3.png", 
    "p4.png", 
    "p5.png",
    "audio.mp3",
    'https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&display=swap',
    "https://fonts.googleapis.com/css2?family=Tomorrow&display=swap"

];
const path = "assets/";

// See Docs under Frame for FIT, FILL, FULL, and TAG
new Frame(FIT, 1024, 768, darker, darker, ready, assets, path);
function ready() {
    let correctPassword = "Grxm2508";
    let container = new Container(W, H).sca(0.7, 0.8).centerReg();
    let intro = new Pic("9.png").centerReg(container).sca(1.2, 1)
    let introframe = new Rectangle(925, 770, null, lighter, 1, 20).centerReg(container)
    container.setMask(introframe)

    const song = new Aud({
      file: "audio.mp3",
      delay: 0.25,
      loop: true,
    });

    const labels = new Label({
    text: "Final Room",
    size: 20,
    color: "#81561C",
    font: "tomorrow",
    }).centerReg().center();
    
    const button1 = new Button({
    label: labels,
    style: "tomorrow",
    color: "#81561C",
    height: 40,
    width: 120,
    backgroundColor: brown,
    rollBackgroundColor: "#81561C",
    corner: 10,
    borderColor: white,
    borderWidth: 2,
    }).pos(0, 90, RIGHT, BOTTOM);

    button1.on("click", () => {
        zgo("lvl6.html")
    });

    const labels2 = new Label({
    text: "Previous Room",
    size: 20,
    color: "#81561C",
    font: "tomorrow",
    }).centerReg().center();
    
    const button2 = new Button({
    label: labels2,
    style: "tomorrow",
    color: "#81561C",
    height: 40,
    width: 150,
    backgroundColor: brown,
    rollBackgroundColor: "#81561C",
    corner: 10,
    borderColor: white,
    borderWidth: 2,
    }).pos(5, 90, LEFT, BOTTOM);

    button2.on("click", () => {
        zgo("lvl5.html")
    });



  const circle = new Circle(2.5, lighter).addTo(container).loc(200, 490).alp(0.8);
  circle.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });

    circle.tap(()=>{

    const words = [
    "hmmm... This must be a clue for the password",
    "Two pm, I have to go to five guys and get some burgers but ive got zero cash on me",
    "I just need eight bucks so i could get a meal. Maybe i have some cash in my journal",
    "clue: G***2*0*." 
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });

  

  const circle2 = new Circle(2.5, lighter).addTo(container).loc(775, 420).alp(0.8);
  circle2.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });


    circle2.tap(()=>{

    const words = [
    "Hmmm some garlic ranch on the table",
    "Caseys laptop but it seems everyone uses it to browse hmm",
    "There must be clues but. It's locked i need the password to unlock it",
    "Type the password",
    "end"
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    dialog.on("change", () => {
            zogb(dialog.selectedIndex);
            if (dialog.selectedIndex == 3) {
                dialog.removeFrom(container)
                password()
                S.update();    
            }
          });

    let rect
    let input
    let submitlabel
    let submitButton

    function password(){
        rect = new Rectangle(500, 200, darker, lighter, 1, 20).center(container)
        input = new TextInput({
            placeholder: "password",
            font: "tomorrow",
            corner: 10,
            width: 300,
        }).centerReg(container);

        submitlabel = new Label({
            text: "submit",
            size: 30,
            color: lighter,
            font: "tomorrow",
          }).pos(0, 0, CENTER, MIDDLE, submitButton)

        submitButton = new Button({label: submitlabel, width: 120, height: 40, backgroundColor: dark, color: lighter, autoPadding: 10}).pos(0, 300, CENTER, BOTTOM, container).tap(() => {
        checkPassword(input.text); 
        });

        intro.tap(()=>{
            rect.removeFrom(container)
            input.removeFrom(container)
            submitButton.removeFrom(container)
        }) 

        function checkPassword(enteredPassword) {
            if (enteredPassword === correctPassword) {
                rect.removeFrom(container)
                input.removeFrom(container)
                submitButton.removeFrom(container)
                const words = [
                "It worked",
                "Browse History...",
                "The dominos browse history",
                "Zora got wings, and hot sauce with pizza",
                "Molly got burger and wings with garlic cream sauce",
                "Daniel got a cheese burger and bbq flavored pizza",
                "Casey got wings and pizza with hot sauce",
                "Kaitlyn got wings and bbq flavored pizza",
                "How to make a game with zim, How do I grow my tik tok, New barbie movie, How to get away with murder",
                "I can see 4 fingertips on the keyboard Casey included",
                "Some barbeque sauce on the keyboard too",
                "Some lint on the keyboard too",
                "Hmm i need more clues"
                ];

                STYLE = { lineHeight: 40 };

                const dialog = new Dialog({
                width: 350,
                words: words,
                dialogType: "rectangle",
                tailType: "none",
                fill: false,
                size: 20,
                font: "Tomorrow",
                color: white,
                backgroundColor: darker,
                borderColor: white,
                borderWidth: 1,
                corner: 50,
                padding: 50,
                }).center(container).centerReg()

                intro.tap(()=>{
                dialog.removeFrom(container)
                })

            } else {
                password()
            }
        }
    }

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });


  const circle3 = new Circle(2.5, lighter).addTo(container).loc(500, 600).alp(0.8);
  circle3.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });

  circle3.tap(()=>{

    const words = [
    "Mud again on this rug",
    "This time 4 footsteps",
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });

  const circle4 = new Circle(2.5, lighter).addTo(container).loc(785, 480).alp(0.8);
  circle4.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });

  circle4.tap(()=>{

    const words = [
    "This seems like pizza flour",
    "And barbeque sauce",
    "Someone has also been chipping at the wood on this",
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });

  const circle5 = new Circle(2.5, lighter).addTo(container).loc(245, 610).alp(0.8);
  circle5.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });

  circle5.tap(()=>{

    const words = [
    "Empty drawer",
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });
    
  const circle6 = new Circle(2.5, lighter).addTo(container).loc(420, 400).alp(0.8);
  circle6.animate({
    props:{scale: 2},
    time: 1,
    loop: true,
    rewind: true
  });
    
  circle6.tap(()=>{

    const words = [
    "Hmm door handles is sticky",
    "Smells and tastes like hot sauce",
    ];

    STYLE = { lineHeight: 40 };

    const dialog = new Dialog({
    width: 350,
    words: words,
    dialogType: "rectangle",
    tailType: "none",
    fill: false,
    size: 20,
    font: "Tomorrow",
    color: white,
    backgroundColor: darker,
    borderColor: white,
    borderWidth: 1,
    corner: 50,
    padding: 50,
    }).center(container).centerReg()

    intro.tap(()=>{
    dialog.removeFrom(container)
    })
    });




    
} // end ready

</script>
<meta name="viewport" content="width=device-width, user-scalable=no" />
</head>
<body></body>
</html>